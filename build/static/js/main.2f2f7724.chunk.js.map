{"version":3,"sources":["components/Error.jsx","components/Formulario.jsx","components/Header.jsx","components/Clima.jsx","App.js","index.js"],"names":["Error","mensaje","className","Formulario","busqueda","setBusqueda","setConsultar","React","useState","error","setError","paises","setPaises","ciudades","setCiudades","ciudadesFiltado","setCiudadesFiltrado","ciudad","pais","useEffect","consultarPaises","a","fetch","respuesta","json","resultado","data","consultarCiudades","onSubmit","e","preventDefault","trim","handleSubmit","name","id","value","onChange","target","paisBusqueda","filter","iso3","ciudadesFiltrado","country","cities","console","log","setTimeout","elementos","document","querySelectorAll","M","FormSelect","init","handleChangePais","map","item","htmlFor","handleChange","type","Header","titulo","href","Clima","main","parseInt","temp","temp_max","temp_min","App","componente","consultar","setResultado","url","cod","consultarAPI","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2f2f7724.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Error = ({ mensaje }) => {\r\n  return (\r\n    <>\r\n      <p className=\"red darken-4 error\">{mensaje}</p>\r\n    </>\r\n  );\r\n};\r\n\r\nError.propTypes = {\r\n  mensaje: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport Error from \"./Error\";\r\nimport PropTypes from \"prop-types\";\r\nimport M from 'materialize-css'\r\n\r\nconst Formulario = ({ busqueda, setBusqueda, setConsultar }) => {\r\n  const [error, setError] = React.useState(false);\r\n\r\n  const [paises, setPaises] = React.useState([]);\r\n\r\n  const [ciudades, setCiudades] = React.useState([]);\r\n\r\n  const [ciudadesFiltado, setCiudadesFiltrado] = React.useState([]);\r\n\r\n  const { ciudad, pais } = busqueda;\r\n\r\n  const handleChange = (e) => {\r\n    setBusqueda({\r\n      ...busqueda,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangePais = (e) => {\r\n    setBusqueda({\r\n      ...busqueda,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    const paisesFiltrado = paises.filter(\r\n      (pais) => e.target.value === pais.iso3\r\n    );\r\n    const paisBusqueda = paisesFiltrado[0].name;\r\n\r\n    const ciudadesFiltrado = ciudades.filter(\r\n      (ciudad) => ciudad.country === paisBusqueda\r\n    );\r\n\r\n    setCiudadesFiltrado(ciudadesFiltrado[0].cities);\r\n\r\n    console.log('aqui')\r\n    setTimeout(() => {\r\n      var elementos = document.querySelectorAll(\"select\");\r\n      M.FormSelect.init(elementos);\r\n    }, 500);\r\n\r\n    console.log('aqui2')\r\n\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!ciudad.trim() || !pais.trim()) {\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    setError(false);\r\n    setConsultar(true);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const consultarPaises = async () => {\r\n      const url = \"https://countriesnow.space/api/v0.1/countries/states\";\r\n      const respuesta = await fetch(url);\r\n      const resultado = await respuesta.json();\r\n      setPaises(resultado.data);\r\n    };\r\n\r\n    const consultarCiudades = async () => {\r\n      const url = \"https://countriesnow.space/api/v0.1/countries\";\r\n      const respuesta = await fetch(url);\r\n      const resultado = await respuesta.json();\r\n      setCiudades(resultado.data);\r\n    };\r\n\r\n    consultarPaises();\r\n    consultarCiudades();\r\n  }, []);\r\n\r\n  return (\r\n    <form onSubmit={(e) => handleSubmit(e)}>\r\n      {error ? <Error mensaje=\"Todos los campos son obligatorios\" /> : null}\r\n      <div className=\"input-field col s12\">\r\n        <select\r\n          name=\"pais\"\r\n          id=\"pais\"\r\n          value={pais}\r\n          onChange={(e) => handleChangePais(e)}\r\n        >\r\n          <option value=\"\">-- Seleccione un Pais --</option>\r\n          {paises.map((item) => {\r\n            return (\r\n              <option key={item.iso3} value={item.iso3}>\r\n                {item.name}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n        <label htmlFor=\"pais\">Pais: </label>\r\n      </div>\r\n\r\n      <div className=\"input-field col s12\">\r\n        <select\r\n          name=\"ciudad\"\r\n          id=\"ciudad\"\r\n          value={ciudad}\r\n          onChange={(e) => handleChange(e)}\r\n        >\r\n          <option value=\"\">-- Seleccione una ciudad --</option>\r\n          {ciudadesFiltado.map((item) => {\r\n            return (\r\n              <option key={item} value={item}>\r\n                {item}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n        <label htmlFor=\"pais\">Ciudad: </label>\r\n      </div>\r\n\r\n      <div className=\"input-field col s12\">\r\n        <button\r\n          type=\"submit\"\r\n          className=\"waves-effect waves-light btn-large btn-block yellow accent-4 col s12\"\r\n        >\r\n          Buscar Clima\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nFormulario.propTypes = {\r\n  busqueda: PropTypes.object.isRequired,\r\n  setBusqueda: PropTypes.func.isRequired,\r\n  setConsultar: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Formulario;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Header = ({ titulo }) => {\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wraper light-blue darken-2\">\r\n        <a href=\"#!\" className=\"brand-logo\">\r\n          {titulo}\r\n        </a>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  titulo: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Clima = ({ resultado }) => {\r\n  const { name, main } = resultado;\r\n\r\n  if (!name) return null;\r\n\r\n  return (\r\n    <div className=\"card-panel col s12 white\">\r\n      <div className=\"black-text\">\r\n        <h2>El clima de {name} es: </h2>\r\n        <p className=\"temperatura\">\r\n          {parseInt(main.temp)} <span>&#x2103;</span>\r\n        </p>\r\n        <p>\r\n          Temperatura Maxima: {parseInt(main.temp_max)} <span>&#x2103;</span>\r\n        </p>\r\n        <p>\r\n          Temperatura Minima: {parseInt(main.temp_min)} <span>&#x2103;</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nClima.propTypes = {\r\n  resultado: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default Clima;\r\n","import Formulario from \"./components/Formulario\";\nimport Header from \"./components/Header\";\nimport React from \"react\";\nimport Clima from \"./components/Clima\";\nimport Error from \"./components/Error\";\n\nfunction App() {\n  const [busqueda, setBusqueda] = React.useState({\n    ciudad: \"\",\n    pais: \"\",\n  });\n\n  const [consultar, setConsultar] = React.useState(false);\n\n  const [resultado, setResultado] = React.useState({});\n\n  const [error, setError] = React.useState(false);\n\n\n  const { ciudad, pais } = busqueda;\n\n  React.useEffect(() => {\n    const consultarAPI = async () => {\n      if (consultar) {\n        const appID = \"ac38d0ba0df5f1a969baa00cbfd02f22\";\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${ciudad},${pais}&units=metric&appid=${appID}`;\n\n        const respuesta = await fetch(url);\n        const resultado = await respuesta.json();\n        setResultado(resultado);\n        setConsultar(false);\n\n        if (resultado.cod === \"404\") {\n          setError(true);\n        } else {\n          setError(false);\n        }\n      }\n    };\n\n    consultarAPI();\n    // eslint-disable-next-line\n  }, [consultar]);\n\n\n\n  let componente;\n  if (error) {\n    componente = <Error mensaje=\"No hay resultados\" />;\n  } else {\n    componente = <Clima resultado={resultado} />;\n  }\n\n  return (\n    <>\n      <Header titulo=\"Clima React App\" />\n      <div className=\"contenedor-form\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col m6 s12\">\n              <Formulario\n                busqueda={busqueda}\n                setBusqueda={setBusqueda}\n                setConsultar={setConsultar}\n              />\n            </div>\n            <div className=\"col m6 s12\">{componente}</div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}