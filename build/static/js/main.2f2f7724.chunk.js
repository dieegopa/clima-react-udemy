(this["webpackJsonpclima-udemy-app"]=this["webpackJsonpclima-udemy-app"]||[]).push([[0],{14:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(8),r=a.n(s),i=(a(14),a(3)),u=a.n(i),o=a(4),l=a(2),j=a(5),d=a(6),p=a(0),b=function(e){var t=e.mensaje;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("p",{className:"red darken-4 error",children:t})})},m=a(9),h=a.n(m),f=function(e){var t=e.busqueda,a=e.setBusqueda,n=e.setConsultar,s=c.a.useState(!1),r=Object(l.a)(s,2),i=r[0],m=r[1],f=c.a.useState([]),O=Object(l.a)(f,2),x=O[0],v=O[1],w=c.a.useState([]),g=Object(l.a)(w,2),N=g[0],S=g[1],y=c.a.useState([]),k=Object(l.a)(y,2),q=k[0],C=k[1],F=t.ciudad,B=t.pais;return c.a.useEffect((function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://countriesnow.space/api/v0.1/countries/states",e.next=3,fetch("https://countriesnow.space/api/v0.1/countries/states");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,v(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(o.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://countriesnow.space/api/v0.1/countries",e.next=3,fetch("https://countriesnow.space/api/v0.1/countries");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,S(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(p.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),F.trim()&&B.trim()?(m(!1),n(!0)):m(!0)}(e)},children:[i?Object(p.jsx)(b,{mensaje:"Todos los campos son obligatorios"}):null,Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsxs)("select",{name:"pais",id:"pais",value:B,onChange:function(e){return function(e){a(Object(d.a)(Object(d.a)({},t),{},Object(j.a)({},e.target.name,e.target.value)));var n=x.filter((function(t){return e.target.value===t.iso3}))[0].name,c=N.filter((function(e){return e.country===n}));C(c[0].cities),console.log("aqui"),setTimeout((function(){var e=document.querySelectorAll("select");h.a.FormSelect.init(e)}),500),console.log("aqui2")}(e)},children:[Object(p.jsx)("option",{value:"",children:"-- Seleccione un Pais --"}),x.map((function(e){return Object(p.jsx)("option",{value:e.iso3,children:e.name},e.iso3)}))]}),Object(p.jsx)("label",{htmlFor:"pais",children:"Pais: "})]}),Object(p.jsxs)("div",{className:"input-field col s12",children:[Object(p.jsxs)("select",{name:"ciudad",id:"ciudad",value:F,onChange:function(e){return function(e){a(Object(d.a)(Object(d.a)({},t),{},Object(j.a)({},e.target.name,e.target.value)))}(e)},children:[Object(p.jsx)("option",{value:"",children:"-- Seleccione una ciudad --"}),q.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))]}),Object(p.jsx)("label",{htmlFor:"pais",children:"Ciudad: "})]}),Object(p.jsx)("div",{className:"input-field col s12",children:Object(p.jsx)("button",{type:"submit",className:"waves-effect waves-light btn-large btn-block yellow accent-4 col s12",children:"Buscar Clima"})})]})},O=function(e){var t=e.titulo;return Object(p.jsx)("nav",{children:Object(p.jsx)("div",{className:"nav-wraper light-blue darken-2",children:Object(p.jsx)("a",{href:"#!",className:"brand-logo",children:t})})})},x=function(e){var t=e.resultado,a=t.name,n=t.main;return a?Object(p.jsx)("div",{className:"card-panel col s12 white",children:Object(p.jsxs)("div",{className:"black-text",children:[Object(p.jsxs)("h2",{children:["El clima de ",a," es: "]}),Object(p.jsxs)("p",{className:"temperatura",children:[parseInt(n.temp)," ",Object(p.jsx)("span",{children:"\u2103"})]}),Object(p.jsxs)("p",{children:["Temperatura Maxima: ",parseInt(n.temp_max)," ",Object(p.jsx)("span",{children:"\u2103"})]}),Object(p.jsxs)("p",{children:["Temperatura Minima: ",parseInt(n.temp_min)," ",Object(p.jsx)("span",{children:"\u2103"})]})]})}):null};var v=function(){var e,t=c.a.useState({ciudad:"",pais:""}),a=Object(l.a)(t,2),n=a[0],s=a[1],r=c.a.useState(!1),i=Object(l.a)(r,2),j=i[0],d=i[1],m=c.a.useState({}),h=Object(l.a)(m,2),v=h[0],w=h[1],g=c.a.useState(!1),N=Object(l.a)(g,2),S=N[0],y=N[1],k=n.ciudad,q=n.pais;return c.a.useEffect((function(){(function(){var e=Object(o.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=12;break}return"ac38d0ba0df5f1a969baa00cbfd02f22",t="https://api.openweathermap.org/data/2.5/weather?q=".concat(k,",").concat(q,"&units=metric&appid=").concat("ac38d0ba0df5f1a969baa00cbfd02f22"),e.next=5,fetch(t);case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,w(n),d(!1),"404"===n.cod?y(!0):y(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j]),e=S?Object(p.jsx)(b,{mensaje:"No hay resultados"}):Object(p.jsx)(x,{resultado:v}),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,{titulo:"Clima React App"}),Object(p.jsx)("div",{className:"contenedor-form",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col m6 s12",children:Object(p.jsx)(f,{busqueda:n,setBusqueda:s,setConsultar:d})}),Object(p.jsx)("div",{className:"col m6 s12",children:e})]})})})]})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2f2f7724.chunk.js.map